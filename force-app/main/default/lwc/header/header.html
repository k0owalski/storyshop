<template>
	<div class="header">
		<div class="topbar">
			<div class="brand" onclick={navigateToHome}>
				<lightning-icon class="brand-logo storyshop-icon-alt" icon-name="utility:knowledge_base"
					alternative-text="Logo Story Shop" title="Logo Story Shop">
					<label>Logo Story Shop</label>
				</lightning-icon>
				<span class="brand-name">Story Shop</span>
			</div>
			<input class="searchbar" name="search" type="search" placeholder="Szukaj...">
			<div class="quick-actions">
				<div class="cart-button" onclick={navigateToCart}>
					<lightning-icon class="cart-button-icon storyshop-icon-alt" icon-name="utility:cart"
						alternative-text="favorite-icon" title="favorite-icon">
						<label>Cart</label>
					</lightning-icon>
					<template if:true={cartLength}>
						<div class="items-length">{cartLength}</div>
					</template>
				</div>
				<template if:true={userId}>
					<template if:true={userName}>
						<div class="login-button" onclick={userMenuToggle}>
							<span class="username">{userName}</span>
							<lightning-icon class="login-button-icon storyshop-icon" icon-name="utility:user"
								alternative-text="login-icon" size="small" title="login-icon">
								<label>User Panel</label>
							</lightning-icon>
						</div>
					</template>
				</template>
				<template if:false={userId}>
					<div class="login-button" onclick={navigateToLogin}>
						<span>Zaloguj siÄ™</span>
						<lightning-icon class="login-button-icon storyshop-icon" icon-name="utility:user"
							alternative-text="login-icon" size="small" title="login-icon">
							<label>User Panel</label>
						</lightning-icon>
					</div>
				</template>
				<button class="mobile-menu-button" type="button" onclick={mobileMenuClick}>
					<lightning-icon class="mobile-menu-button-icon storyshop-icon" icon-name="utility:right_align_text"
						alternative-text="Menu" size="x-small" title="Menu">
						<label>Menu</label>
					</lightning-icon>
				</button>
			</div>
		</div>
		<template if:true={navigationItemsLoaded}>
			<c-navigation navigation-items={navigationItems}></c-navigation>
			<c-mobile-menu navigation-items={navigationItems} user-id={userId} user-name={userName}
				cart-length={cartLength} is-active={isMobileMenuActive}>
			</c-mobile-menu>
		</template>
	</div>
</template>
